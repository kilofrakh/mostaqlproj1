<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ููุฏุฑููุณู โ ููุนูููู ุงูุนุฑุจู ุงูุฐูู</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400&family=IBM+Plex+Sans+Arabic:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/static/style.css" />
</head>
<body>

  <!-- โโโ Header โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ -->
  <header class="site-header">
    <div class="header-inner">
      <div class="brand">
        <span class="brand-icon">๐</span>
        <div>
          <h1 class="brand-title">ููุฏุฑููุณู</h1>
          <p class="brand-subtitle">ูุนูููู ุงูุนุฑุจู ุงูุฐูู</p>
        </div>
      </div>
      <div class="header-badge">
        <span class="pulse-dot"></span>
        <span>ูุฏุนูู ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู</span>
      </div>
    </div>
  </header>

  <!-- โโโ Main โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ -->
  <main class="main-container">

    <!-- Instruction card -->
    <section class="intro-card">
      <div class="steps-row">
        <div class="step"><span class="step-num">ูก</span><span>ุงุถุบุท ุฒุฑ ุงูุชุณุฌูู</span></div>
        <div class="step-arrow">โ</div>
        <div class="step"><span class="step-num">ูข</span><span>ุชุญุฏูุซ ุจุงูุนุฑุจูุฉ</span></div>
        <div class="step-arrow">โ</div>
        <div class="step"><span class="step-num">ูฃ</span><span>ุงุญุตู ุนูู ุงูุชุตุญูุญ</span></div>
        <div class="step-arrow">โ</div>
        <div class="step"><span class="step-num">ูค</span><span>ูุงุตู ุงููุญุงุฏุซุฉ</span></div>
      </div>
    </section>

    <!-- Mic recorder card -->
    <section class="recorder-card">
      <div class="mic-ring" id="micRing">
        <button class="mic-btn" id="micBtn" title="ุงุถุบุท ููุชุณุฌูู">
          <svg class="mic-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/>
            <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
            <line x1="12" y1="19" x2="12" y2="23"/>
            <line x1="8" y1="23" x2="16" y2="23"/>
          </svg>
        </button>
      </div>

      <div class="recorder-status" id="recorderStatus">ุงุถุบุท ููุจุฏุก</div>

      <div class="timer-row" id="timerRow" style="display:none;">
        <span class="rec-indicator"></span>
        <span id="timerDisplay">00:00</span>
      </div>

      <div class="btn-row" id="btnRow" style="display:none;">
        <button class="btn btn-send" id="sendBtn">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
          ุฅุฑุณุงู ููุชุญููู
        </button>
        <button class="btn btn-cancel" id="cancelBtn">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
          ุฅูุบุงุก
        </button>
      </div>
    </section>

    <!-- Loading spinner -->
    <div class="loading-overlay" id="loadingOverlay" style="display:none;">
      <div class="spinner-card">
        <div class="spinner"></div>
        <p class="spinner-text">ุฌุงุฑู ุงูุชุญููู ูุงูุชุตุญูุญโฆ</p>
        <div class="loading-steps">
          <span class="ls" id="ls1">๐๏ธ ุชุญููู ุงูุตูุช ุฅูู ูุต</span>
          <span class="ls" id="ls2">๐ง ุชุญููู ุงููุญู</span>
          <span class="ls" id="ls3">๐ฌ ุชูููุฏ ุงูุฑุฏ</span>
        </div>
      </div>
    </div>

    <!-- Error banner -->
    <div class="error-banner" id="errorBanner" style="display:none;">
      <span class="error-icon">โ๏ธ</span>
      <span id="errorText"></span>
      <button class="error-close" id="errorClose">ร</button>
    </div>

    <!-- Results section -->
    <section class="results-section" id="resultsSection" style="display:none;">

      <div class="results-header">
        <h2 class="results-title">ูุชุงุฆุฌ ุงูุชุญููู</h2>
        <div class="accuracy-badge" id="accuracyBadge"></div>
      </div>

      <div class="cards-grid">

        <!-- Original -->
        <div class="result-card card-original" data-label="ูุง ููุชู">
          <div class="card-header">
            <span class="card-icon">๐ฃ๏ธ</span>
            <span class="card-title">ูุง ููุชู</span>
          </div>
          <p class="card-content arabic-text" id="originalText"></p>
        </div>

        <!-- Corrected -->
        <div class="result-card card-corrected" id="correctedCard" data-label="ุงูุชุตุญูุญ">
          <div class="card-header">
            <span class="card-icon" id="correctedIcon">โ</span>
            <span class="card-title" id="correctedTitle">ุงูุฌููุฉ ุงูุตุญูุญุฉ</span>
          </div>
          <p class="card-content arabic-text" id="correctedText"></p>
        </div>

        <!-- Explanation -->
        <div class="result-card card-explanation" id="explanationCard" data-label="ุงูุดุฑุญ">
          <div class="card-header">
            <span class="card-icon">๐</span>
            <span class="card-title">ุงูุดุฑุญ</span>
          </div>
          <p class="card-content arabic-text" id="explanationText"></p>
        </div>

        <!-- Improved -->
        <div class="result-card card-improved" data-label="ูุณุฎุฉ ูุญุณููุฉ">
          <div class="card-header">
            <span class="card-icon">โจ</span>
            <span class="card-title">ูุณุฎุฉ ุฃูุซุฑ ุฃุณููุจูุฉ</span>
          </div>
          <p class="card-content arabic-text" id="improvedText"></p>
        </div>

      </div>

      <!-- Follow-up question + audio -->
      <div class="followup-card">
        <div class="followup-inner">
          <div class="followup-icon">๐ฌ</div>
          <div class="followup-body">
            <p class="followup-label">ุณุคุงู ุงููุชุงุจุนุฉ</p>
            <p class="arabic-text followup-question" id="followupText"></p>
          </div>
        </div>
        <div class="audio-row" id="audioRow" style="display:none;">
          <button class="play-btn" id="playBtn">
            <svg viewBox="0 0 24 24" fill="currentColor"><polygon points="5 3 19 12 5 21 5 3"/></svg>
            ุงุณุชูุน ููุฑุฏ
          </button>
          <audio id="audioPlayer"></audio>
          <div class="audio-waveform" id="waveform">
            <span></span><span></span><span></span><span></span><span></span>
            <span></span><span></span><span></span><span></span><span></span>
          </div>
        </div>
      </div>

      <!-- Record again CTA -->
      <div class="again-row">
        <button class="btn btn-again" id="againBtn">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="23 4 23 10 17 10"/><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/></svg>
          ุณุฌูู ุฑุฏุงู ุฌุฏูุฏุงู
        </button>
      </div>

    </section>

  </main>

  <!-- โโโ Footer โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ -->
  <footer class="site-footer">
    <p>ููุฏุฑููุณู ยท ููุนูููู ุงูุนุฑุจู ุงูุฐูู ยท ูุฏุนูู ุจู Whisper & Claude & gTTS</p>
  </footer>

  <script src="/static/script.js"></script>
</body>
</html>
